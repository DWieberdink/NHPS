<h3>Workflow Steps</h3>
<table id="dataTable" border="1">
    <thead>
        <tr>
            <th>Step</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
    async function loadFlowchart() {
        try {
            let response = await fetch("data.json");
            let data = await response.json();
            let selectedWorkflow = document.getElementById("workflowSelector").value;

            // Update the iframe with the selected workflow
            document.getElementById("flowchart").src = data.workflows[selectedWorkflow].url;

            // Populate the table
            let tbody = document.getElementById("dataTable").querySelector("tbody");
            tbody.innerHTML = ""; // Clear previous data
            data.workflows[selectedWorkflow].steps.forEach(row => {
                let tr = document.createElement("tr");
                tr.innerHTML = `<td>${row.step}</td><td>${row.description}</td>`;
                tbody.appendChild(tr);
            });

        } catch (error) {
            console.error("Error loading workflow:", error);
        }
    }

    // Load the default workflow on page load
    loadFlowchart();
</script>
